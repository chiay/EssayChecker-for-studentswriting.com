!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e=e||self).compromiseHtml=n()}(this,(function(){"use strict";function e(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var n=function e(n,t,r,o){var u;t[0]=0;for(var i=1;i<t.length;i++){var f=t[i++],s=t[i]?(t[0]|=f?1:2,r[t[i++]]):t[++i];3===f?o[0]=s:4===f?o[1]=Object.assign(o[1]||{},s):5===f?(o[1]=o[1]||{})[t[++i]]=s:6===f?o[1][t[++i]]+=s+"":f?(u=n.apply(s,e(n,s,r,["",null])),o.push(u),s[0]?t[0]|=2:(t[i-2]=0,t[i]=u)):o.push(s)}return o},t=new Map;var r=Object.freeze({__proto__:null,default:function(e){var r=t.get(this);return r||(r=new Map,t.set(this,r)),(r=n(this,r.get(e)||(r.set(e,r=function(e){for(var n,t,r=1,o="",u="",i=[0],f=function(e){1===r&&(e||(o=o.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?i.push(0,e,o):3===r&&(e||o)?(i.push(3,e,o),r=2):2===r&&"..."===o&&e?i.push(4,e,0):2===r&&o&&!e?i.push(5,0,!0,o):r>=5&&((o||!e&&5===r)&&(i.push(r,0,o,t),r=6),e&&(i.push(r,e,0,t),r=6)),o=""},s=0;s<e.length;s++){s&&(1===r&&f(),f(s));for(var a=0;a<e[s].length;a++)n=e[s][a],1===r?"<"===n?(f(),i=[i],r=3):o+=n:4===r?"--"===o&&">"===n?(r=1,o=""):o=n+o[0]:u?n===u?u="":o+=n:'"'===n||"'"===n?u=n:">"===n?(f(),r=1):r&&("="===n?(r=5,t=o,o=""):"/"===n&&(r<5||">"===e[s][a+1])?(f(),3===r&&(i=i[0]),r=i,(i=i[0]).push(2,0,r),r=0):" "===n||"\t"===n||"\n"===n||"\r"===n?(f(),r=2):o+=n),3===r&&"!--"===o&&(r=4,i=i[0])}return f(),i}(e)),r),arguments,[])).length>1?r:r[0]}});"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var o=function(e,n){return e(n={exports:{}},n.exports),n.exports}((function(e,n){var t,r,o,u,i,f;e.exports=(t=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],r=function(e){return String(e).replace(/[&<>"']/g,(function(e){return"&"+o[e]+";"}))},o={"&":"amp","<":"lt",">":"gt",'"':"quot","'":"apos"},u="dangerouslySetInnerHTML",i={className:"class",htmlFor:"for"},f={},function(e,n){var o=[],s="";n=n||{};for(var a=arguments.length;a-- >2;)o.push(arguments[a]);if("function"==typeof e)return n.children=o.reverse(),e(n);if(e){if(s+="<"+e,n)for(var l in n)!1!==n[l]&&null!=n[l]&&l!==u&&(s+=" "+(i[l]?i[l]:r(l))+'="'+r(n[l])+'"');s+=">"}if(-1===t.indexOf(e)){if(n[u])s+=n[u].__html;else for(;o.length;){var p=o.pop();if(p)if(p.pop)for(var c=p.length;c--;)o.push(p[c]);else s+=!0===f[p]?p:r(p)}s+=e?"</"+e+">":""}return f[s]=!0,s})})),u=function(e){return e&&e.default||e}(r);function i(){var n=e(["<pre>","</pre>"]);return i=function(){return n},n}function f(){var n=e(["<span class=",">","</span>"]);return f=function(){return n},n}var s=function(e,n,t){var r=u.bind(o);t.bind&&(r=u.bind(t.bind));var s=[];return e.segment(n).forEach((function(e){var n=r(f(),e.segment,e.text);s.push(n)})),r(i(),s)};return function(e){e.prototype.html=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s(this,e,n)}}}));
